xenonnt_tpc_high_voltage_events:
    resource_title: Tpc High Voltage Events
    item_title: Tpc High Voltage Event
    url: tpc/high_voltage_events
    datasource:
        source: tpc_hv_events
    cache_control: max-age=10,must-revalidate
    cache_expires: 10
    resource_methods:
      - GET
      - POST
    schema:
        timestamp:
            type: string
            required: true
        detector:
            type: string
            allowed:
              - tpc
              - nveto
              - muveto
              - unknown
            required: true
            default: tpc
        experiment:
            type: string
            allowed:
              - xenon1t
              - xenonnt
              - unknown
            default: xenonnt
            required: true
        voltage_changes:
            type: list
            schema:
                type: dict
                schema:
                    pmt_index:
                        type: integer
                        required: true
                    old_value:
                        type: number
                    new_value:
                        type: number
                        required: true
        current_changes:
            type: list
            schema:
                type: dict
                schema:
                    pmt_index:
                        type: integer
                        required: true
                    old_value:
                        type: number
                    new_value:
                        type: number
                        required: true
        status_changes:
            type: list
            schema:
                type: dict
                schema:
                    pmt_index:
                        type: integer
                        required: true
                    old_value:
                        type: number
                    new_value:
                        type: number
                        required: true
        comments:
            type: string
    allowed_read_roles:
      - admin
      - expert
      - write:xenonnt
      - write:tpc
      - write:tpc_hv_events
      - read:xenonnt
      - read:tpc
      - read:tpc_hv_events
    allowed_item_read_roles:
      - admin
      - expert
      - write:xenonnt
      - write:tpc
      - write:tpc_hv_events
      - read:xenonnt
      - read:tpc
      - read:tpc_hv_events
    allowed_write_roles:
      - admin
      - expert
      - write:xenonnt
      - write:tpc
      - write:tpc_hv_events
    allowed_item_write_roles:
      - admin
      - expert
      - write:xenonnt
      - write:tpc
      - write:tpc_hv_events
    mongo_prefix: MONGO
